
## Observer Pattern

- https://www.patterns.dev/posts/observer-pattern/

옵저버 패턴을 사용하면 관찰자(observer)로서 객체들을 구독할 수 있고 관찰 가능한 객체(observable)이라합니다.
이벤트가 발생할때 observable은 관찰자(observer)에게 모든 알림을 전달합니다.

observable 객체는 아래와 같이 나뉩니다. 
- observers
	- 이벤트가 발생할때 알림을 주기위한 관찰자들
- subscribe
	- 관찰자를 추가할때
- unsubscribe
	- 관찰자를 제외할떄
- notify
	- 이벤트가 발생할때 모든 관찰자에게 알림을 주기위해

옵저버 패턴은 다양한 방법으로 사용하며 **비동기, 이벤트 기반 데이터**를 수행할때 매우 유용합니다.
예를들면 다운로드 완료되거나 사용자에게 새로운 알림을 메시지 모드에 전달하거나 모든 다른 멤버에게 알리고 싶을때

## 장점
- 옵저버 패턴은 관심사의 분리, 단일책임원칙을 행하는데 좋은 방법입니다.
- 관찰자(observer) 객체들은 관찰 가능한 객체(observable)와 결합도가 높지 않습니다.

## 단점
- 관찰자가 너무 복잡하게 많다면 모든 관찰자에게 알림을 줄때 퍼포먼스 이슈가 발생할 수 있습니다.


### Usecase
- 상태 관리 라이브러리에서 종종 사용하는 패턴
	- Mobx, XState (머신간 notify로 전달) ...
- Push Notification 이용하여 앱내 토픽 구독자들에게만 선택적 알림을 주기위해 사용합니다.


### My Opinion
- 상태 관리 라이브러리를 이용할때 알게 모르게 내부적으로 사용하고 있습니다.
- 실제 구현하여 사용한 부분은 Usecase에서 말했듯이 앱내에 알림 설정에 보면 각 토픽에 맞게 알림을 허용(subscribe), 해체(unsubscribe)할것인지 여부에 따라 허용한다면 관찰자(observer)로 등록하고 서버에서 새로운 메시지가 온다면 토픽 구독 여부에 따라 알림을 주는 형식으로 제공하였습니다.
- 이를 토대로 보았을때 서비스 관점 해당 패턴을 사용할 적절한 예시는 관찰자들이 여러 파트로 분산있는 상태일때가 해당 패턴을 적용하기 좋지 않을까 싶습니다.
